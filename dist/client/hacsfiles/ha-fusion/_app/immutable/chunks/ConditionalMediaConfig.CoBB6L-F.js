import{a as ht,e as tt,b as y,d as m,c as X,A as gt,g as E,t as P,h as j,K as bt,j as I,k as T,l as U,m as N,L as vt,F as yt,u as H,v as te,o as k,w as ue,x as Ve,p as V,i as Me,r as pt,E as dt,C as ce,y as kt,J as wt,D as lt}from"./scheduler.BGjPv-1J.js";import{S as Et,i as It,t as q,g as Fe,a as B,c as Je,b as he,d as ge,m as be,e as ve,j as at}from"./index.DGGgQIon.js";import{h as Ct,d as Ot,s as St,i as it,k as jt,m as Nt,l as Tt,p as qt,r as Lt,u as Dt,z as Ht,e as nt,y as st}from"./Loader.DbTsSYa5.js";import{S as ct}from"./Select.Dq9-hAzu.js";import{C as Bt}from"./ConfigButtons.Cc1o6-ot.js";import{I as $t}from"./Index.CWVzh7Hi.js";import{l as Rt,R as Ae}from"./2.dCG7GHcU.js";import{I as Pt}from"./InputClear.DnqX4aGi.js";function ot(t,l,i){const a=t.slice();return a[30]=l[i],a[32]=i,a}function rt(t){let l,i;return l=new $t({props:{$$slots:{title:[Mt],default:[Vt]},$$scope:{ctx:t}}}),{c(){he(l.$$.fragment)},l(a){ge(l.$$.fragment,a)},m(a,o){be(l,a,o),i=!0},p(a,o){const n={};o[0]&253|o[1]&4&&(n.$$scope={dirty:o,ctx:a}),l.$set(n)},i(a){i||(q(l.$$.fragment,a),i=!0)},o(a){B(l.$$.fragment,a),i=!1},d(a){ve(l,a)}}}function ut(t){var w;let l,i=t[5]("nothing_playing")+"",a,o,n,c;return n=new ct({props:{computeIcons:!0,defaultIcon:"mdi:image",value:(w=t[0])==null?void 0:w.entity_id,options:t[4],placeholder:t[5]("entity")}}),n.$on("change",t[14]),{c(){l=E("h2"),a=P(i),o=j(),he(n.$$.fragment)},l(f){l=I(f,"H2",{});var h=T(l);a=U(h,i),h.forEach(m),o=N(f),ge(n.$$.fragment,f)},m(f,h){y(f,l,h),k(l,a),y(f,o,h),be(n,f,h),c=!0},p(f,h){var u;(!c||h[0]&32)&&i!==(i=f[5]("nothing_playing")+"")&&V(a,i);const p={};h[0]&1&&(p.value=(u=f[0])==null?void 0:u.entity_id),h[0]&16&&(p.options=f[4]),h[0]&32&&(p.placeholder=f[5]("entity")),n.$set(p)},i(f){c||(q(n.$$.fragment,f),c=!0)},o(f){B(n.$$.fragment,f),c=!1},d(f){f&&(m(l),m(o)),ve(n,f)}}}function ft(t){let l,i,a,o=t[5]("add")+"",n,c,w,f,h,p=nt(t[0].media_players),u=[];for(let d=0;d<p.length;d+=1)u[d]=_t(ot(t,p,d));const D=d=>B(u[d],1,1,()=>{u[d]=null});return{c(){l=E("div");for(let d=0;d<u.length;d+=1)u[d].c();i=j(),a=E("button"),n=P(o),this.h()},l(d){l=I(d,"DIV",{});var g=T(l);for(let _=0;_<u.length;_+=1)u[_].l(g);i=N(g),a=I(g,"BUTTON",{class:!0});var b=T(a);n=U(b,o),b.forEach(m),g.forEach(m),this.h()},h(){H(a,"class","options action"),a.disabled=c=!t[3],ce(a,"opacity",t[3]?"1":"0.4"),ce(a,"cursor",t[3]?"pointer":"unset")},m(d,g){y(d,l,g);for(let b=0;b<u.length;b+=1)u[b]&&u[b].m(l,null);k(l,i),k(l,a),k(a,n),w=!0,f||(h=ue(a,"click",t[16]),f=!0)},p(d,g){if(g[0]&865){p=nt(d[0].media_players);let b;for(b=0;b<p.length;b+=1){const _=ot(d,p,b);u[b]?(u[b].p(_,g),q(u[b],1)):(u[b]=_t(_),u[b].c(),q(u[b],1),u[b].m(l,i))}for(Fe(),b=p.length;b<u.length;b+=1)D(b);Je()}(!w||g[0]&32)&&o!==(o=d[5]("add")+"")&&V(n,o),(!w||g[0]&8&&c!==(c=!d[3]))&&(a.disabled=c),g[0]&8&&ce(a,"opacity",d[3]?"1":"0.4"),g[0]&8&&ce(a,"cursor",d[3]?"pointer":"unset")},i(d){if(!w){for(let g=0;g<p.length;g+=1)q(u[g]);w=!0}},o(d){u=u.filter(Boolean);for(let g=0;g<u.length;g+=1)B(u[g]);w=!1},d(d){d&&m(l),kt(u,d),f=!1,h()}}}function _t(t){var f,h;let l,i,a,o,n,c;function w(...p){return t[15](t[32],...p)}return i=new ct({props:{computeIcons:!0,defaultIcon:"mdi:cast",placeholder:t[5]("media_player"),options:t[9](t[30].entity_id),value:t[30].entity_id||"",clearable:((h=(f=t[0])==null?void 0:f.media_players)==null?void 0:h.length)>1}}),i.$on("change",w),{c(){l=E("div"),he(i.$$.fragment),a=j(),o=E("br")},l(p){l=I(p,"DIV",{});var u=T(l);ge(i.$$.fragment,u),a=N(u),o=I(u,"BR",{}),u.forEach(m)},m(p,u){y(p,l,u),be(i,l,null),k(l,a),k(l,o),c=!0},p(p,u){var d,g;t=p;const D={};u[0]&32&&(D.placeholder=t[5]("media_player")),u[0]&1&&(D.options=t[9](t[30].entity_id)),u[0]&1&&(D.value=t[30].entity_id||""),u[0]&1&&(D.clearable=((g=(d=t[0])==null?void 0:d.media_players)==null?void 0:g.length)>1),i.$set(D)},i(p){c||(q(i.$$.fragment,p),p&&wt(()=>{c&&(n||(n=at(l,st,{duration:t[6]},!0)),n.run(1))}),c=!0)},o(p){B(i.$$.fragment,p),p&&(n||(n=at(l,st,{duration:t[6]},!1)),n.run(0)),c=!1},d(p){p&&m(l),ve(i),p&&n&&n.end()}}}function Ut(t){let l,i,a,o;return{c(){l=E("input"),this.h()},l(n){l=I(n,"INPUT",{min:!0,max:!0,type:!0,class:!0,placeholder:!0,autocomplete:!0,spellcheck:!0}),this.h()},h(){var n;H(l,"min",ze),H(l,"max",Ne),H(l,"type","number"),H(l,"class","input svelte-1njjaoq"),H(l,"placeholder",i=((n=t[2])==null?void 0:n.toString())||(Y==null?void 0:Y.toString())),H(l,"autocomplete","off"),H(l,"spellcheck","false"),ce(l,"padding",t[29])},m(n,c){y(n,l,c),lt(l,t[2]),a||(o=[ue(l,"input",t[17]),ue(l,"change",t[11])],a=!0)},p(n,c){var w;c[0]&4&&i!==(i=((w=n[2])==null?void 0:w.toString())||(Y==null?void 0:Y.toString()))&&H(l,"placeholder",i),c[0]&4&&dt(l.value)!==n[2]&&lt(l,n[2]),c[0]&536870912&&ce(l,"padding",n[29])},d(n){n&&m(l),a=!1,pt(o)}}}function Vt(t){var Xe,Ye,Ze,xe;let l,i=t[5]("preview")+"",a,o,n,c,w,f,h,p=t[5]("playing")+"",u,D,d,g,b,_=t[5]("paused")+"",J,F,C,le,fe=t[10](t[2]??Y)+"",_e,M,me,Z,ae=((Ye=t[5]("show_area"))==null?void 0:Ye.replace("{area}",(Xe=t[5]("time"))==null?void 0:Xe.toLocaleLowerCase()))+"",pe,de,A,z,ie=t[5]("yes")+"",r,v,$,R,ye=t[5]("no")+"",Te,qe,Le,ne,Ge="Marquee",De,K,W,ke=t[5]("no")+"",He,Be,Ke,G,we=t[5]("yes")+"",$e,Re,Pe,Ue,x,L,We,Qe;c=new Rt({props:{sel:t[0]}});let O=t[4]&&ut(t),S=((xe=(Ze=t[0])==null?void 0:Ze.media_players)==null?void 0:xe.length)&&ft(t);return M=new Pt({props:{condition:t[2]!==void 0,$$slots:{default:[Ut,({padding:e})=>({29:e}),({padding:e})=>[e?536870912:0]]},$$scope:{ctx:t}}}),M.$on("clear",t[18]),x=new Bt({props:{sel:t[0]}}),{c(){l=E("h2"),a=P(i),o=j(),n=E("div"),he(c.$$.fragment),w=j(),O&&O.c(),f=j(),h=E("h2"),u=P(p),D=j(),S&&S.c(),d=j(),g=E("div"),b=E("h2"),J=P(_),F=j(),C=E("span"),le=new bt(!1),_e=j(),he(M.$$.fragment),me=j(),Z=E("h2"),pe=P(ae),de=j(),A=E("div"),z=E("button"),r=P(ie),$=j(),R=E("button"),Te=P(ye),Le=j(),ne=E("h2"),ne.textContent=Ge,De=j(),K=E("div"),W=E("button"),He=P(ke),Ke=j(),G=E("button"),$e=P(we),Pe=j(),Ue=j(),he(x.$$.fragment),this.h()},l(e){l=I(e,"H2",{});var s=T(l);a=U(s,i),s.forEach(m),o=N(e),n=I(e,"DIV",{class:!0});var ee=T(n);ge(c.$$.fragment,ee),ee.forEach(m),w=N(e),O&&O.l(e),f=N(e),h=I(e,"H2",{});var Q=T(h);u=U(Q,p),Q.forEach(m),D=N(e),S&&S.l(e),d=N(e),g=I(e,"DIV",{class:!0});var se=T(g);b=I(se,"H2",{});var Ee=T(b);J=U(Ee,_),Ee.forEach(m),F=N(se),C=I(se,"SPAN",{class:!0});var Ie=T(C);le=vt(Ie,!1),Ie.forEach(m),se.forEach(m),_e=N(e),ge(M.$$.fragment,e),me=N(e),Z=I(e,"H2",{});var Ce=T(Z);pe=U(Ce,ae),Ce.forEach(m),de=N(e),A=I(e,"DIV",{class:!0});var oe=T(A);z=I(oe,"BUTTON",{});var Oe=T(z);r=U(Oe,ie),Oe.forEach(m),$=N(oe),R=I(oe,"BUTTON",{});var Se=T(R);Te=U(Se,ye),Se.forEach(m),oe.forEach(m),Le=N(e),ne=I(e,"H2",{"data-svelte-h":!0}),yt(ne)!=="svelte-15m1v1y"&&(ne.textContent=Ge),De=N(e),K=I(e,"DIV",{class:!0});var re=T(K);W=I(re,"BUTTON",{});var je=T(W);He=U(je,ke),je.forEach(m),Ke=N(re),G=I(re,"BUTTON",{});var et=T(G);$e=U(et,we),et.forEach(m),re.forEach(m),Pe=N(e),Ue=N(e),ge(x.$$.fragment,e),this.h()},h(){var e,s,ee,Q;H(n,"class","preview svelte-1njjaoq"),le.a=null,H(C,"class","time svelte-1njjaoq"),H(g,"class","paused svelte-1njjaoq"),te(z,"selected",(e=t[0])==null?void 0:e.show_timeout),te(R,"selected",!((s=t[0])!=null&&s.show_timeout)),H(A,"class","button-container"),te(W,"selected",!((ee=t[0])!=null&&ee.marquee)),te(G,"selected",(Q=t[0])==null?void 0:Q.marquee),H(K,"class","button-container")},m(e,s){y(e,l,s),k(l,a),y(e,o,s),y(e,n,s),be(c,n,null),y(e,w,s),O&&O.m(e,s),y(e,f,s),y(e,h,s),k(h,u),y(e,D,s),S&&S.m(e,s),y(e,d,s),y(e,g,s),k(g,b),k(b,J),k(g,F),k(g,C),le.m(fe,C),y(e,_e,s),be(M,e,s),y(e,me,s),y(e,Z,s),k(Z,pe),y(e,de,s),y(e,A,s),k(A,z),k(z,r),k(A,$),k(A,R),k(R,Te),y(e,Le,s),y(e,ne,s),y(e,De,s),y(e,K,s),k(K,W),k(W,He),k(K,Ke),k(K,G),k(G,$e),y(e,Pe,s),y(e,Ue,s),be(x,e,s),L=!0,We||(Qe=[ue(z,"click",t[19]),Ve(v=Ae.call(null,z,t[7])),ue(R,"click",t[20]),Ve(qe=Ae.call(null,R,t[7])),ue(W,"click",t[21]),Ve(Be=Ae.call(null,W,t[7])),ue(G,"click",t[22]),Ve(Re=Ae.call(null,G,t[7]))],We=!0)},p(e,s){var Ee,Ie,Ce,oe,Oe,Se,re,je;(!L||s[0]&32)&&i!==(i=e[5]("preview")+"")&&V(a,i);const ee={};s[0]&1&&(ee.sel=e[0]),c.$set(ee),e[4]?O?(O.p(e,s),s[0]&16&&q(O,1)):(O=ut(e),O.c(),q(O,1),O.m(f.parentNode,f)):O&&(Fe(),B(O,1,1,()=>{O=null}),Je()),(!L||s[0]&32)&&p!==(p=e[5]("playing")+"")&&V(u,p),(Ie=(Ee=e[0])==null?void 0:Ee.media_players)!=null&&Ie.length?S?(S.p(e,s),s[0]&1&&q(S,1)):(S=ft(e),S.c(),q(S,1),S.m(d.parentNode,d)):S&&(Fe(),B(S,1,1,()=>{S=null}),Je()),(!L||s[0]&32)&&_!==(_=e[5]("paused")+"")&&V(J,_),(!L||s[0]&4)&&fe!==(fe=e[10](e[2]??Y)+"")&&le.p(fe);const Q={};s[0]&4&&(Q.condition=e[2]!==void 0),s[0]&536870916|s[1]&4&&(Q.$$scope={dirty:s,ctx:e}),M.$set(Q),(!L||s[0]&32)&&ae!==(ae=((oe=e[5]("show_area"))==null?void 0:oe.replace("{area}",(Ce=e[5]("time"))==null?void 0:Ce.toLocaleLowerCase()))+"")&&V(pe,ae),(!L||s[0]&32)&&ie!==(ie=e[5]("yes")+"")&&V(r,ie),v&&Me(v.update)&&s[0]&128&&v.update.call(null,e[7]),(!L||s[0]&1)&&te(z,"selected",(Oe=e[0])==null?void 0:Oe.show_timeout),(!L||s[0]&32)&&ye!==(ye=e[5]("no")+"")&&V(Te,ye),qe&&Me(qe.update)&&s[0]&128&&qe.update.call(null,e[7]),(!L||s[0]&1)&&te(R,"selected",!((Se=e[0])!=null&&Se.show_timeout)),(!L||s[0]&32)&&ke!==(ke=e[5]("no")+"")&&V(He,ke),Be&&Me(Be.update)&&s[0]&128&&Be.update.call(null,e[7]),(!L||s[0]&1)&&te(W,"selected",!((re=e[0])!=null&&re.marquee)),(!L||s[0]&32)&&we!==(we=e[5]("yes")+"")&&V($e,we),Re&&Me(Re.update)&&s[0]&128&&Re.update.call(null,e[7]),(!L||s[0]&1)&&te(G,"selected",(je=e[0])==null?void 0:je.marquee);const se={};s[0]&1&&(se.sel=e[0]),x.$set(se)},i(e){L||(q(c.$$.fragment,e),q(O),q(S),q(M.$$.fragment,e),q(x.$$.fragment,e),L=!0)},o(e){B(c.$$.fragment,e),B(O),B(S),B(M.$$.fragment,e),B(x.$$.fragment,e),L=!1},d(e){e&&(m(l),m(o),m(n),m(w),m(f),m(h),m(D),m(d),m(g),m(_e),m(me),m(Z),m(de),m(A),m(Le),m(ne),m(De),m(K),m(Pe),m(Ue)),ve(c),O&&O.d(e),S&&S.d(e),ve(M,e),ve(x,e),We=!1,pt(Qe)}}}function Mt(t){var w;let l,i=t[5]("conditional")+"",a,o,n=((w=t[5]("media"))==null?void 0:w.toLocaleLowerCase())+"",c;return{c(){l=E("h1"),a=P(i),o=j(),c=P(n),this.h()},l(f){l=I(f,"H1",{slot:!0});var h=T(l);a=U(h,i),o=N(h),c=U(h,n),h.forEach(m),this.h()},h(){H(l,"slot","title")},m(f,h){y(f,l,h),k(l,a),k(l,o),k(l,c)},p(f,h){var p;h[0]&32&&i!==(i=f[5]("conditional")+"")&&V(a,i),h[0]&32&&n!==(n=((p=f[5]("media"))==null?void 0:p.toLocaleLowerCase())+"")&&V(c,n)},d(f){f&&m(l)}}}function At(t){let l,i,a=t[1]&&rt(t);return{c(){a&&a.c(),l=tt()},l(o){a&&a.l(o),l=tt()},m(o,n){a&&a.m(o,n),y(o,l,n),i=!0},p(o,n){o[1]?a?(a.p(o,n),n[0]&2&&q(a,1)):(a=rt(o),a.c(),q(a,1),a.m(l.parentNode,l)):a&&(Fe(),B(a,1,1,()=>{a=null}),Je())},i(o){i||(q(a),i=!0)},o(o){B(a),i=!1},d(o){o&&m(l),a&&a.d(o)}}}const ze=0,Ne=86399,Y=900;function mt(t,l){var i,a,o;return(o=(a=(i=Object.keys(t))==null?void 0:i.filter(n=>n.startsWith(l)))==null?void 0:a.sort())==null?void 0:o.map(n=>({id:n,label:n}))}function zt(t,l,i){let a,o,n,c,w,f,h,p,u,D,d,g;X(t,Ct,r=>i(24,c=r)),X(t,Ot,r=>i(25,w=r)),X(t,St,r=>i(13,f=r)),X(t,it,r=>i(26,h=r)),X(t,jt,r=>i(27,p=r)),X(t,Nt,r=>i(28,u=r)),X(t,Tt,r=>i(5,D=r)),X(t,qt,r=>i(6,d=r)),X(t,Lt,r=>i(7,g=r));let{isOpen:b}=l,{sel:_}=l,{demo:J=void 0}=l;J&&(u.splice(p,1),C("entity_id",J));let F=_==null?void 0:_.timeout;_!=null&&_.media_players||(u.splice(p,1),C("media_players",[{entity_id:""}]));function C(r,v){i(0,_=Dt(_,r,v)),it.set(h)}function le(r){return o.filter(v=>!_.media_players.some($=>$.entity_id===v.id)||v.id===r)}function fe(r){const v=new Date;return r>Ne?v.setSeconds(v.getSeconds()+Ne):r>ze&&v.setSeconds(v.getSeconds()+r),Ht(v.toISOString(),w)}function _e(r){var R;const v=(R=r==null?void 0:r.target)==null?void 0:R.value;if(v===""&&(_!=null&&_.timeout)){i(2,F=_==null?void 0:_.timeout);return}let $=Number(v);isNaN($)||($<ze?$=ze:$>Ne&&($=Ne),C("timeout",$),i(2,F=$??Y))}gt(()=>{_!=null&&_.media_players&&(i(0,_.media_players=_.media_players.filter(r=>Object.keys(r).length>0),_),C("media_players",_.media_players)),c()});const M=r=>C("entity_id",r),me=(r,v)=>{v!=null&&v.detail?i(0,_.media_players[r]={entity_id:v==null?void 0:v.detail},_):_.media_players.splice(r,1),C("media_players",_.media_players)},Z=()=>{C("media_players",[..._.media_players,{}])};function ae(){F=dt(this.value),i(2,F)}const pe=()=>{C("timeout"),i(2,F=void 0)},de=()=>C("show_timeout",!0),A=()=>C("show_timeout",!1),z=()=>C("marquee"),ie=()=>C("marquee",!0);return t.$$set=r=>{"isOpen"in r&&i(1,b=r.isOpen),"sel"in r&&i(0,_=r.sel),"demo"in r&&i(12,J=r.demo)},t.$$.update=()=>{var r;t.$$.dirty[0]&8192&&i(4,a=mt(f,"")),t.$$.dirty[0]&8192&&(o=mt(f,"media_player.")),t.$$.dirty[0]&1&&i(3,n=(r=_==null?void 0:_.media_players)==null?void 0:r.every(v=>v.entity_id))},[_,b,F,n,a,D,d,g,C,le,fe,_e,J,f,M,me,Z,ae,pe,de,A,z,ie]}class Zt extends Et{constructor(l){super(),It(this,l,zt,At,ht,{isOpen:1,sel:0,demo:12},null,[-1,-1])}}export{Zt as default};
