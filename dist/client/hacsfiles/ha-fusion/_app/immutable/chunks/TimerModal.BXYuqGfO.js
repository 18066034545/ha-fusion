import{a as mt,e as ft,b as d,d as f,c as $,I as dt,g as T,t as C,h as S,j as E,k as I,l as D,m as g,u as U,o as O,D as ct,w as z,x as G,p as H,i as J,r as at}from"./scheduler.BGjPv-1J.js";import{S as ht,i as vt,t as P,g as bt,a as K,c as kt,b as tt,d as et,m as lt,e as st}from"./index.DGGgQIon.js";import{c as Tt,s as Et,l as Ot,r as Nt,g as pt}from"./Loader.DbTsSYa5.js";import{T as Rt}from"./Timer.B5Z1HQcJ.js";import{C as Bt}from"./ConfigButtons.Cc1o6-ot.js";import{I as It}from"./Index.CWVzh7Hi.js";import{R as L,c as x}from"./2.dCG7GHcU.js";function _t(s){let e,a;return e=new It({props:{$$slots:{title:[gt],default:[St]},$$scope:{ctx:s}}}),{c(){tt(e.$$.fragment)},l(t){et(e.$$.fragment,t)},m(t,n){lt(e,t,n),a=!0},p(t,n){const o={};n&262654&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){a||(P(e.$$.fragment,t),a=!0)},o(t){K(e.$$.fragment,t),a=!1},d(t){st(e,t)}}}function Ut(s){let e,a=s[7]("start")+"",t,n,o,r,c=s[7]("cancel")+"",h,v,k,m;return{c(){e=T("button"),t=C(a),o=S(),r=T("button"),h=C(c),this.h()},l(u){e=E(u,"BUTTON",{class:!0});var i=I(e);t=D(i,a),i.forEach(f),o=g(u),r=E(u,"BUTTON",{class:!0});var b=I(r);h=D(b,c),b.forEach(f),this.h()},h(){U(e,"class","svelte-f13ftt"),U(r,"class","svelte-f13ftt")},m(u,i){d(u,e,i),O(e,t),d(u,o,i),d(u,r,i),O(r,h),k||(m=[z(e,"click",s[13]),G(n=L.call(null,e,s[8])),z(r,"click",s[14]),G(v=L.call(null,r,s[8]))],k=!0)},p(u,i){i&128&&a!==(a=u[7]("start")+"")&&H(t,a),n&&J(n.update)&&i&256&&n.update.call(null,u[8]),i&128&&c!==(c=u[7]("cancel")+"")&&H(h,c),v&&J(v.update)&&i&256&&v.update.call(null,u[8])},d(u){u&&(f(e),f(o),f(r)),k=!1,at(m)}}}function wt(s){let e,a=s[7]("pause")+"",t,n,o,r,c=s[7]("finish")+"",h,v,k,m;return{c(){e=T("button"),t=C(a),o=S(),r=T("button"),h=C(c),this.h()},l(u){e=E(u,"BUTTON",{class:!0});var i=I(e);t=D(i,a),i.forEach(f),o=g(u),r=E(u,"BUTTON",{class:!0});var b=I(r);h=D(b,c),b.forEach(f),this.h()},h(){U(e,"class","svelte-f13ftt"),U(r,"class","svelte-f13ftt")},m(u,i){d(u,e,i),O(e,t),d(u,o,i),d(u,r,i),O(r,h),k||(m=[z(e,"click",s[11]),G(n=L.call(null,e,s[8])),z(r,"click",s[12]),G(v=L.call(null,r,s[8]))],k=!0)},p(u,i){i&128&&a!==(a=u[7]("pause")+"")&&H(t,a),n&&J(n.update)&&i&256&&n.update.call(null,u[8]),i&128&&c!==(c=u[7]("finish")+"")&&H(h,c),v&&J(v.update)&&i&256&&v.update.call(null,u[8])},d(u){u&&(f(e),f(o),f(r)),k=!1,at(m)}}}function St(s){let e,a=s[7]("timer")+"",t,n,o,r,c,h=s[7]("options")+"",v,k,m,u,i,b=s[7]("duration")+"",V,q,N,R,A,w,_=s[7]("set_state")+"",Q,W,X,M,j,y,nt;o=new Rt({props:{sel:s[1]}});function it(l,p){return l[5]==="active"?wt:Ut}let Y=it(s),B=Y(s);return M=new Bt({}),{c(){e=T("h2"),t=C(a),n=S(),tt(o.$$.fragment),r=S(),c=T("h2"),v=C(h),k=S(),m=T("div"),B.c(),u=S(),i=T("h2"),V=C(b),q=S(),N=T("div"),R=T("input"),A=S(),w=T("button"),Q=C(_),X=S(),tt(M.$$.fragment),this.h()},l(l){e=E(l,"H2",{});var p=I(e);t=D(p,a),p.forEach(f),n=g(l),et(o.$$.fragment,l),r=g(l),c=E(l,"H2",{});var F=I(c);v=D(F,h),F.forEach(f),k=g(l),m=E(l,"DIV",{class:!0});var ut=I(m);B.l(ut),ut.forEach(f),u=g(l),i=E(l,"H2",{});var ot=I(i);V=D(ot,b),ot.forEach(f),q=g(l),N=E(l,"DIV",{class:!0});var Z=I(N);R=E(Z,"INPUT",{class:!0,type:!0,step:!0}),A=g(Z),w=E(Z,"BUTTON",{class:!0});var rt=I(w);Q=D(rt,_),rt.forEach(f),Z.forEach(f),X=g(l),et(M.$$.fragment,l),this.h()},h(){U(m,"class","button-container"),U(R,"class","input svelte-f13ftt"),U(R,"type","time"),U(R,"step","1"),U(w,"class","input overflow svelte-f13ftt"),U(N,"class","duration svelte-f13ftt")},m(l,p){d(l,e,p),O(e,t),d(l,n,p),lt(o,l,p),d(l,r,p),d(l,c,p),O(c,v),d(l,k,p),d(l,m,p),B.m(m,null),d(l,u,p),d(l,i,p),O(i,V),d(l,q,p),d(l,N,p),O(N,R),ct(R,s[4]),O(N,A),O(N,w),O(w,Q),d(l,X,p),lt(M,l,p),j=!0,y||(nt=[z(R,"input",s[15]),z(w,"click",s[16]),G(W=L.call(null,w,s[8]))],y=!0)},p(l,p){(!j||p&128)&&a!==(a=l[7]("timer")+"")&&H(t,a);const F={};p&2&&(F.sel=l[1]),o.$set(F),(!j||p&128)&&h!==(h=l[7]("options")+"")&&H(v,h),Y===(Y=it(l))&&B?B.p(l,p):(B.d(1),B=Y(l),B&&(B.c(),B.m(m,null))),(!j||p&128)&&b!==(b=l[7]("duration")+"")&&H(V,b),p&16&&ct(R,l[4]),(!j||p&128)&&_!==(_=l[7]("set_state")+"")&&H(Q,_),W&&J(W.update)&&p&256&&W.update.call(null,l[8])},i(l){j||(P(o.$$.fragment,l),P(M.$$.fragment,l),j=!0)},o(l){K(o.$$.fragment,l),K(M.$$.fragment,l),j=!1},d(l){l&&(f(e),f(n),f(r),f(c),f(k),f(m),f(u),f(i),f(q),f(N),f(X)),st(o,l),B.d(),st(M,l),y=!1,at(nt)}}}function gt(s){let e,a=pt(void 0,s[2])+"",t;return{c(){e=T("h1"),t=C(a),this.h()},l(n){e=E(n,"H1",{slot:!0});var o=I(e);t=D(o,a),o.forEach(f),this.h()},h(){U(e,"slot","title")},m(n,o){d(n,e,o),O(e,t)},p(n,o){o&4&&a!==(a=pt(void 0,n[2])+"")&&H(t,a)},d(n){n&&f(e)}}}function Ct(s){let e,a,t=s[0]&&_t(s);return{c(){t&&t.c(),e=ft()},l(n){t&&t.l(n),e=ft()},m(n,o){t&&t.m(n,o),d(n,e,o),a=!0},p(n,[o]){n[0]?t?(t.p(n,o),o&1&&P(t,1)):(t=_t(n),t.c(),P(t,1),t.m(e.parentNode,e)):t&&(bt(),K(t,1,1,()=>{t=null}),kt())},i(n){a||(P(t),a=!0)},o(n){K(t),a=!1},d(n){n&&f(e),t&&t.d(n)}}}function Dt(s){return s.split(":").map(e=>e.padStart(2,"0")).join(":")}function Ht(s,e,a){let t,n,o,r,c,h,v;$(s,Tt,_=>a(6,r=_)),$(s,Et,_=>a(10,c=_)),$(s,Ot,_=>a(7,h=_)),$(s,Nt,_=>a(8,v=_));let{isOpen:k}=e,{sel:m}=e,u,i;dt(()=>{a(4,u=Dt((o==null?void 0:o.duration)||""))});function b(_){x(r,"timer",_,{entity_id:t})}const V=()=>b("pause"),q=()=>b("finish"),N=()=>b("start"),R=()=>b("cancel");function A(){u=this.value,a(4,u)}const w=()=>{const _=n;x(r,"timer","start",{entity_id:t,duration:u}),_!=="active"&&x(r,"timer","pause",{entity_id:t})};return s.$$set=_=>{"isOpen"in _&&a(0,k=_.isOpen),"sel"in _&&a(1,m=_.sel)},s.$$.update=()=>{var _;s.$$.dirty&2&&a(3,t=m==null?void 0:m.entity_id),s.$$.dirty&1036&&t&&((_=c==null?void 0:c[t])==null?void 0:_.last_updated)!==(i==null?void 0:i.last_updated)&&a(2,i=c==null?void 0:c[t]),s.$$.dirty&4&&a(5,n=i==null?void 0:i.state),s.$$.dirty&4&&(o=i==null?void 0:i.attributes)},[k,m,i,t,u,n,r,h,v,b,c,V,q,N,R,A,w]}class Ft extends ht{constructor(e){super(),vt(this,e,Ht,Ct,mt,{isOpen:0,sel:1})}}export{Ft as default};
