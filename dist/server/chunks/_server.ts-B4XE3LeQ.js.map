{"version":3,"file":"_server.ts-B4XE3LeQ.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/_api/save_config/_server.ts.js"],"sourcesContent":["import { writeFile } from \"fs/promises\";\nimport { j as json } from \"../../../../chunks/index.js\";\nimport yaml from \"js-yaml\";\nconst POST = async ({ request }) => {\n  const body = await request.json();\n  let data;\n  try {\n    data = yaml.dump(body);\n  } catch {\n    return new Response(JSON.stringify({ error: \"Invalid JSON - cannot convert to YAML\" }), {\n      status: 400\n    });\n  }\n  try {\n    await writeFile(\"data/configuration.yaml\", data);\n    return json({ action: \"saved\" });\n  } catch (error) {\n    return new Response(JSON.stringify({ error }), {\n      status: 400\n    });\n  }\n};\nexport {\n  POST\n};\n"],"names":[],"mappings":";;;;AAGK,MAAC,IAAI,GAAG,OAAO,EAAE,OAAO,EAAE,KAAK;AACpC,EAAE,MAAM,IAAI,GAAG,MAAM,OAAO,CAAC,IAAI,EAAE;AACnC,EAAE,IAAI,IAAI;AACV,EAAE,IAAI;AACN,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;AAC1B,GAAG,CAAC,MAAM;AACV,IAAI,OAAO,IAAI,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,uCAAuC,EAAE,CAAC,EAAE;AAC5F,MAAM,MAAM,EAAE;AACd,KAAK,CAAC;AACN;AACA,EAAE,IAAI;AACN,IAAI,MAAM,SAAS,CAAC,yBAAyB,EAAE,IAAI,CAAC;AACpD,IAAI,OAAO,IAAI,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC;AACpC,GAAG,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,OAAO,IAAI,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE;AACnD,MAAM,MAAM,EAAE;AACd,KAAK,CAAC;AACN;AACA;;;;"}