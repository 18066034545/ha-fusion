import{a as re,g as T,h as H,t as G,j as C,k as N,d as k,m as J,l as O,u as j,C as f,b as A,o as w,p as z,c as E,A as ae,w as oe,x as ie,i as le,r as se,n as ue}from"./scheduler.BGjPv-1J.js";import{S as ce,i as fe,b as Q,d as W,m as X,t as V,g as ee,a as q,c as te,e as Y}from"./index.DGGgQIon.js";import{g as $,c as pe,f as de,s as me,F as _e,p as ge,l as ve,G as K,r as he}from"./Loader.DbTsSYa5.js";import{I as Z,R as be,c as ke}from"./2.PYNQplxn.js";function ye(r){let n;return{c(){n=G("--:--")},l(e){n=O(e,"--:--")},m(e,t){A(e,n,t)},p:ue,d(e){e&&k(n)}}}function Se(r){let n=U(...L(r[5].duration))+"",e;return{c(){e=G(n)},l(t){e=O(t,n)},m(t,o){A(t,e,o)},p(t,o){o&32&&n!==(n=U(...L(t[5].duration))+"")&&z(e,n)},d(t){t&&k(e)}}}function we(r){let n=r[11][r[2]].pausedState+"",e;return{c(){e=G(n)},l(t){e=O(t,n)},m(t,o){A(t,e,o)},p(t,o){o&2052&&n!==(n=t[11][t[2]].pausedState+"")&&z(e,n)},d(t){t&&k(e)}}}function De(r){let n=(r[6]||r[11][r[2]].pausedState)+"",e;return{c(){e=G(n)},l(t){e=O(t,n)},m(t,o){A(t,e,o)},p(t,o){o&2116&&n!==(n=(t[6]||t[11][t[2]].pausedState)+"")&&z(e,n)},d(t){t&&k(e)}}}function x(r){let n,e,t,o,p,d,_;const h=[Ee,Ie],m=[];function S(i,u){return i[3]==="active"?0:1}return e=S(r),t=m[e]=h[e](r),{c(){n=T("button"),t.c(),this.h()},l(i){n=C(i,"BUTTON",{class:!0});var u=N(n);t.l(u),u.forEach(k),this.h()},h(){j(n,"class","start_pause svelte-12v2l7y"),f(n,"cursor",r[7]?"unset":"pointer"),f(n,"pointer-events",r[8].length!==0?"auto":"unset")},m(i,u){A(i,n,u),m[e].m(n,null),p=!0,d||(_=[oe(n,"click",r[13]),ie(o=be.call(null,n,{...r[12],opacity:r[7]?"0":r[12].opacity}))],d=!0)},p(i,u){let y=e;e=S(i),e!==y&&(ee(),q(m[y],1,1,()=>{m[y]=null}),te(),t=m[e],t||(t=m[e]=h[e](i),t.c()),V(t,1),t.m(n,null)),o&&le(o.update)&&u&4224&&o.update.call(null,{...i[12],opacity:i[7]?"0":i[12].opacity}),u&128&&f(n,"cursor",i[7]?"unset":"pointer"),u&256&&f(n,"pointer-events",i[8].length!==0?"auto":"unset")},i(i){p||(V(t),p=!0)},o(i){q(t),p=!1},d(i){i&&k(n),m[e].d(),d=!1,se(_)}}}function Ie(r){let n,e;return n=new Z({props:{icon:"ic:round-play-arrow",height:"none"}}),{c(){Q(n.$$.fragment)},l(t){W(n.$$.fragment,t)},m(t,o){X(n,t,o),e=!0},i(t){e||(V(n.$$.fragment,t),e=!0)},o(t){q(n.$$.fragment,t),e=!1},d(t){Y(n,t)}}}function Ee(r){let n,e;return n=new Z({props:{icon:"ic:round-pause",height:"none"}}),{c(){Q(n.$$.fragment)},l(t){W(n.$$.fragment,t)},m(t,o){X(n,t,o),e=!0},i(t){e||(V(n.$$.fragment,t),e=!0)},o(t){q(n.$$.fragment,t),e=!1},d(t){Y(n,t)}}}function Ve(r){let n,e,t,o,p,d,_,h=($(r[0],r[1])||r[10]("unknown"))+"",m,S,i,u,y=`color ${r[9]}ms ease, background-color ${r[9]}ms ease, padding ${r[9]}ms
		ease`,D;o=new Z({props:{icon:"ic:twotone-timer",height:"none"}});function B(a,c){var b;return a[3]==="active"&&a[2]?De:a[3]==="paused"&&a[2]?we:a[3]==="idle"&&((b=a[5])!=null&&b.duration)?Se:ye}let M=B(r),g=M(r),l=r[3]&&x(r);return{c(){n=T("div"),e=T("div"),t=T("div"),Q(o.$$.fragment),p=H(),d=T("div"),_=T("div"),m=G(h),S=H(),i=T("div"),g.c(),u=H(),l&&l.c(),this.h()},l(a){n=C(a,"DIV",{class:!0});var c=N(n);e=C(c,"DIV",{class:!0});var b=N(e);t=C(b,"DIV",{class:!0});var v=N(t);W(o.$$.fragment,v),v.forEach(k),p=J(b),d=C(b,"DIV",{class:!0});var I=N(d);_=C(I,"DIV",{class:!0});var P=N(_);m=O(P,h),P.forEach(k),S=J(I),i=C(I,"DIV",{class:!0});var F=N(i);g.l(F),F.forEach(k),I.forEach(k),u=J(b),l&&l.l(b),b.forEach(k),c.forEach(k),this.h()},h(){j(t,"class","icon svelte-12v2l7y"),f(t,"color",r[4]?"orange":"rgba(255, 255, 255, 0.5)"),j(_,"class","name svelte-12v2l7y"),j(i,"class","counter svelte-12v2l7y"),f(i,"color",r[4]?"orange":"rgba(255, 255, 255, 0.5)"),j(d,"class","column svelte-12v2l7y"),j(e,"class","container svelte-12v2l7y"),f(e,"pointer-events",r[8].length!==0?"none":"unset"),f(e,"cursor",r[7]||r[8].length!==0?"unset":"pointer"),f(e,"background-color",r[3]==="active"&&r[2]?"rgba(0, 0, 0, 0.25)":"rgba(0, 0, 0, 0)"),f(e,"padding",r[3]==="active"&&r[2]?"0.35rem 0.65rem 0.35rem 0.45rem":"0 0.65rem 0 0.45rem"),f(e,"transition",y),j(n,"class","outer svelte-12v2l7y")},m(a,c){A(a,n,c),w(n,e),w(e,t),X(o,t,null),w(e,p),w(e,d),w(d,_),w(_,m),w(d,S),w(d,i),g.m(i,null),w(e,u),l&&l.m(e,null),D=!0},p(a,[c]){c&16&&f(t,"color",a[4]?"orange":"rgba(255, 255, 255, 0.5)"),(!D||c&1027)&&h!==(h=($(a[0],a[1])||a[10]("unknown"))+"")&&z(m,h),M===(M=B(a))&&g?g.p(a,c):(g.d(1),g=M(a),g&&(g.c(),g.m(i,null))),c&16&&f(i,"color",a[4]?"orange":"rgba(255, 255, 255, 0.5)"),a[3]?l?(l.p(a,c),c&8&&V(l,1)):(l=x(a),l.c(),V(l,1),l.m(e,null)):l&&(ee(),q(l,1,1,()=>{l=null}),te()),c&256&&f(e,"pointer-events",a[8].length!==0?"none":"unset"),c&384&&f(e,"cursor",a[7]||a[8].length!==0?"unset":"pointer"),c&12&&f(e,"background-color",a[3]==="active"&&a[2]?"rgba(0, 0, 0, 0.25)":"rgba(0, 0, 0, 0)"),c&12&&f(e,"padding",a[3]==="active"&&a[2]?"0.35rem 0.65rem 0.35rem 0.45rem":"0 0.65rem 0 0.45rem"),c&512&&y!==(y=`color ${a[9]}ms ease, background-color ${a[9]}ms ease, padding ${a[9]}ms
		ease`)&&f(e,"transition",y)},i(a){D||(V(o.$$.fragment,a),V(l),D=!0)},o(a){q(o.$$.fragment,a),q(l),D=!1},d(a){a&&k(n),Y(o),g.d(),l&&l.d()}}}function Me(r){const n=Math.floor(r/36e5),e=Math.floor(r/(1e3*60)%60),t=Math.floor(r/1e3%60);return U(n,e,t)}function U(r,n,e){return r?`${r}:${String(n).padStart(2,"0")}:${String(e).padStart(2,"0")}`:n?`${n}:${String(e).padStart(2,"0")}`:`0:${String(e).padStart(2,"0")}`}function L(r){const n=r.split(":").map(Number);for(;n.length<3;)n.unshift(0);return[n[0],n[1],n[2]]}function Re(r,n,e){let t,o,p,d,_,h,m,S,i,u,y,D,B,M,g;E(r,pe,s=>e(20,S=s)),E(r,de,s=>e(7,i=s)),E(r,me,s=>e(17,u=s)),E(r,_e,s=>e(8,y=s)),E(r,ge,s=>e(9,D=s)),E(r,ve,s=>e(10,B=s)),E(r,K,s=>e(11,M=s)),E(r,he,s=>e(12,g=s));let{sel:l}=n,a,c=new Date,b,v,I=!1;function P(){clearInterval(a),F(),a=setInterval(F,1e3)}function F(){c.setTime(Date.now());const s=h.getTime()-c.getTime();s>0&&e(6,b=Me(s))}function ne(s){e(14,I=!0),i||(s.stopPropagation(),ke(S,"timer",m,{entity_id:t}),o==="active"&&K.update(R=>t?{...R,[t]:{...R[t],pausedState:b}}:R))}return ae(()=>{clearInterval(a)}),r.$$set=s=>{"sel"in s&&e(0,l=s.sel)},r.$$.update=()=>{var s;r.$$.dirty&1&&e(2,t=l==null?void 0:l.entity_id),r.$$.dirty&131078&&t&&((s=u==null?void 0:u[t])==null?void 0:s.last_updated)!==(v==null?void 0:v.last_updated)&&e(1,v=u==null?void 0:u[t]),r.$$.dirty&2&&e(3,o=v==null?void 0:v.state),r.$$.dirty&2&&e(5,p=v==null?void 0:v.attributes),r.$$.dirty&32&&e(4,d=p==null?void 0:p.finishes_at),r.$$.dirty&32&&e(16,_=p==null?void 0:p.remaining),r.$$.dirty&16&&e(15,h=new Date(d)),r.$$.dirty&32768&&h&&P(),r.$$.dirty&8&&(m=o==="active"?"pause":"start"),r.$$.dirty&81932&&o==="paused"&&_&&!I&&K.update(R=>t?{...R,[t]:{...R[t],pausedState:U(...L(_))}}:R)},[l,v,t,o,d,p,b,i,y,D,B,M,g,ne,I,h,_,u]}class qe extends ce{constructor(n){super(),fe(this,n,Re,Ve,re,{sel:0})}}export{qe as T};
