import{a as ge,e as _e,b as M,d as p,c as F,g as L,h as q,t as U,j as w,k as P,m as A,l as $,u as C,v as Y,C as H,o as T,x as ve,w as Te,p as j,i as be,r as De}from"./scheduler.BGjPv-1J.js";import{S as Ve,i as ke,t as D,g as Z,a as I,c as x,b as J,d as K,m as Q,e as W}from"./index.DGGgQIon.js";import{I as Ne}from"./Index.Cs2EGFG_.js";import{c as ye,d as Ie,s as Le,r as we,p as Pe,l as Ce,b as Re,g as ee,q as Oe}from"./Loader.DbTsSYa5.js";import{R as Me,I as te}from"./2.DxYEmZCZ.js";import{C as Se}from"./ConfigButtons.COAuEuAN.js";function me(l){let e,i;return e=new Ne({props:{$$slots:{title:[Ue],default:[Be]},$$scope:{ctx:l}}}),{c(){J(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,a){Q(e,t,a),i=!0},p(t,a){const s={};a&66046&&(s.$$scope={dirty:a,ctx:t}),e.$set(s)},i(t){i||(D(e.$$.fragment,t),i=!0)},o(t){I(e.$$.fragment,t),i=!1},d(t){W(e,t)}}}function qe(l){var a,s;let e,i=l[9]().formatRange((a=l[2])==null?void 0:a.start,(s=l[2])==null?void 0:s.end)+"",t;return{c(){e=L("div"),t=U(i),this.h()},l(r){e=w(r,"DIV",{class:!0});var o=P(e);t=$(o,i),o.forEach(p),this.h()},h(){C(e,"class","date svelte-te7aig")},m(r,o){M(r,e,o),T(e,t)},p(r,o){var f,d;o&4&&i!==(i=r[9]().formatRange((f=r[2])==null?void 0:f.start,(d=r[2])==null?void 0:d.end)+"")&&j(t,i)},d(r){r&&p(e)}}}function Ae(l){var a;let e,i=l[9]("allDay").format((a=l[2])==null?void 0:a.start)+"",t;return{c(){e=L("div"),t=U(i),this.h()},l(s){e=w(s,"DIV",{class:!0});var r=P(e);t=$(r,i),r.forEach(p),this.h()},h(){C(e,"class","date svelte-te7aig")},m(s,r){M(s,e,r),T(e,t)},p(s,r){var o;r&4&&i!==(i=s[9]("allDay").format((o=s[2])==null?void 0:o.start)+"")&&j(t,i)},d(s){s&&p(e)}}}function pe(l){var f,d;let e,i,t,a,s=((d=(f=l[2])==null?void 0:f.extendedProps)==null?void 0:d.location)+"",r,o;return t=new te({props:{icon:"mdi:map-marker-outline",height:"none",width:"1.25rem"}}),{c(){e=L("div"),i=L("div"),J(t.$$.fragment),a=q(),r=U(s),this.h()},l(u){e=w(u,"DIV",{class:!0});var m=P(e);i=w(m,"DIV",{class:!0});var v=P(i);K(t.$$.fragment,v),v.forEach(p),a=A(m),r=$(m,s),m.forEach(p),this.h()},h(){C(i,"class","icon svelte-te7aig"),C(e,"class","section svelte-te7aig")},m(u,m){M(u,e,m),T(e,i),Q(t,i,null),T(e,a),T(e,r),o=!0},p(u,m){var v,N;(!o||m&4)&&s!==(s=((N=(v=u[2])==null?void 0:v.extendedProps)==null?void 0:N.location)+"")&&j(r,s)},i(u){o||(D(t.$$.fragment,u),o=!0)},o(u){I(t.$$.fragment,u),o=!1},d(u){u&&p(e),W(t)}}}function Ee(l){var f,d;let e,i,t,a,s=((d=(f=l[2])==null?void 0:f.extendedProps)==null?void 0:d.description)+"",r,o;return t=new te({props:{icon:"mdi:text",height:"none",width:"1.25rem"}}),{c(){e=L("div"),i=L("div"),J(t.$$.fragment),a=q(),r=U(s),this.h()},l(u){e=w(u,"DIV",{class:!0});var m=P(e);i=w(m,"DIV",{class:!0});var v=P(i);K(t.$$.fragment,v),v.forEach(p),a=A(m),r=$(m,s),m.forEach(p),this.h()},h(){C(i,"class","icon svelte-te7aig"),C(e,"class","section svelte-te7aig")},m(u,m){M(u,e,m),T(e,i),Q(t,i,null),T(e,a),T(e,r),o=!0},p(u,m){var v,N;(!o||m&4)&&s!==(s=((N=(v=u[2])==null?void 0:v.extendedProps)==null?void 0:N.description)+"")&&j(r,s)},i(u){o||(D(t.$$.fragment,u),o=!0)},o(u){I(t.$$.fragment,u),o=!1},d(u){u&&p(e),W(t)}}}function he(l){let e,i,t,a,s=ee(l[1],l[3])+"",r,o;return t=new te({props:{icon:"mdi:calendar",height:"none",width:"1.25rem"}}),{c(){e=L("div"),i=L("div"),J(t.$$.fragment),a=q(),r=U(s),this.h()},l(f){e=w(f,"DIV",{class:!0});var d=P(e);i=w(d,"DIV",{class:!0});var u=P(i);K(t.$$.fragment,u),u.forEach(p),a=A(d),r=$(d,s),d.forEach(p),this.h()},h(){C(i,"class","icon svelte-te7aig"),C(e,"class","section svelte-te7aig")},m(f,d){M(f,e,d),T(e,i),Q(t,i,null),T(e,a),T(e,r),o=!0},p(f,d){(!o||d&10)&&s!==(s=ee(f[1],f[3])+"")&&j(r,s)},i(f){o||(D(t.$$.fragment,f),o=!0)},o(f){I(t.$$.fragment,f),o=!1},d(f){f&&p(e),W(t)}}}function Be(l){var ie,le,se,ne;let e,i,t,a,s,r,o,f,d=l[8]("event_delete")+"",u,m,v,N=`opacity ${l[7]}ms ease, background-color ${l[7]}ms ease`,S,b,y,z,X;function _(n,c){var k,O,B,G;if((k=n[2])!=null&&k.allDay&&((O=n[2])!=null&&O.start))return Ae;if((B=n[2])!=null&&B.start&&((G=n[2])!=null&&G.end))return qe}let R=_(l),V=R&&R(l),E=((le=(ie=l[2])==null?void 0:ie.extendedProps)==null?void 0:le.location)&&pe(l),h=((ne=(se=l[2])==null?void 0:se.extendedProps)==null?void 0:ne.description)&&Ee(l),g=l[3]&&he(l);return b=new Se({props:{sel:l[1]}}),{c(){e=L("div"),V&&V.c(),i=q(),E&&E.c(),t=q(),h&&h.c(),a=q(),g&&g.c(),s=q(),r=q(),o=L("div"),f=L("button"),u=U(d),S=q(),J(b.$$.fragment),this.h()},l(n){e=w(n,"DIV",{class:!0});var c=P(e);V&&V.l(c),i=A(c),E&&E.l(c),t=A(c),h&&h.l(c),a=A(c),g&&g.l(c),c.forEach(p),s=A(n),r=A(n),o=w(n,"DIV",{class:!0});var k=P(o);f=w(k,"BUTTON",{class:!0});var O=P(f);u=$(O,d),O.forEach(p),S=A(k),K(b.$$.fragment,k),k.forEach(p),this.h()},h(){var n,c,k,O,B;C(e,"class","container svelte-te7aig"),C(f,"class","action svelte-te7aig"),f.disabled=m=!((n=l[5])!=null&&n.DELETE_EVENT)||l[4],Y(f,"remove",((c=l[5])==null?void 0:c.DELETE_EVENT)&&!l[4]),Y(f,"done",!((k=l[5])!=null&&k.DELETE_EVENT)||l[4]),H(f,"opacity",!((O=l[5])!=null&&O.DELETE_EVENT)||l[4]?"0.3":"1"),H(f,"cursor",(B=l[5])!=null&&B.DELETE_EVENT&&!l[4]?"pointer":"unset"),H(f,"transition",N),C(o,"class","add-config-button svelte-te7aig")},m(n,c){var k;M(n,e,c),V&&V.m(e,null),T(e,i),E&&E.m(e,null),T(e,t),h&&h.m(e,null),T(e,a),g&&g.m(e,null),M(n,s,c),M(n,r,c),M(n,o,c),T(o,f),T(f,u),T(o,S),Q(b,o,null),y=!0,z||(X=[ve(v=Me.call(null,f,{...l[6],opacity:!((k=l[5])!=null&&k.DELETE_EVENT)||l[4]?"0":l[6].opacity})),Te(f,"click",l[10])],z=!0)},p(n,c){var O,B,G,ae,re,oe,fe,ue,ce,de;R===(R=_(n))&&V?V.p(n,c):(V&&V.d(1),V=R&&R(n),V&&(V.c(),V.m(e,i))),(B=(O=n[2])==null?void 0:O.extendedProps)!=null&&B.location?E?(E.p(n,c),c&4&&D(E,1)):(E=pe(n),E.c(),D(E,1),E.m(e,t)):E&&(Z(),I(E,1,1,()=>{E=null}),x()),(ae=(G=n[2])==null?void 0:G.extendedProps)!=null&&ae.description?h?(h.p(n,c),c&4&&D(h,1)):(h=Ee(n),h.c(),D(h,1),h.m(e,a)):h&&(Z(),I(h,1,1,()=>{h=null}),x()),n[3]?g?(g.p(n,c),c&8&&D(g,1)):(g=he(n),g.c(),D(g,1),g.m(e,null)):g&&(Z(),I(g,1,1,()=>{g=null}),x()),(!y||c&256)&&d!==(d=n[8]("event_delete")+"")&&j(u,d),(!y||c&48&&m!==(m=!((re=n[5])!=null&&re.DELETE_EVENT)||n[4]))&&(f.disabled=m),v&&be(v.update)&&c&112&&v.update.call(null,{...n[6],opacity:!((oe=n[5])!=null&&oe.DELETE_EVENT)||n[4]?"0":n[6].opacity}),(!y||c&48)&&Y(f,"remove",((fe=n[5])==null?void 0:fe.DELETE_EVENT)&&!n[4]),(!y||c&48)&&Y(f,"done",!((ue=n[5])!=null&&ue.DELETE_EVENT)||n[4]),c&48&&H(f,"opacity",!((ce=n[5])!=null&&ce.DELETE_EVENT)||n[4]?"0.3":"1"),c&48&&H(f,"cursor",(de=n[5])!=null&&de.DELETE_EVENT&&!n[4]?"pointer":"unset"),c&128&&N!==(N=`opacity ${n[7]}ms ease, background-color ${n[7]}ms ease`)&&H(f,"transition",N);const k={};c&2&&(k.sel=n[1]),b.$set(k)},i(n){y||(D(E),D(h),D(g),D(b.$$.fragment,n),y=!0)},o(n){I(E),I(h),I(g),I(b.$$.fragment,n),y=!1},d(n){n&&(p(e),p(s),p(r),p(o)),V&&V.d(),E&&E.d(),h&&h.d(),g&&g.d(),W(b),z=!1,De(X)}}}function Ue(l){var a;let e,i=(((a=l[2])==null?void 0:a.title)||ee(l[1],l[3]))+"",t;return{c(){e=L("h1"),t=U(i),this.h()},l(s){e=w(s,"H1",{slot:!0});var r=P(e);t=$(r,i),r.forEach(p),this.h()},h(){C(e,"slot","title")},m(s,r){M(s,e,r),T(e,t)},p(s,r){var o;r&14&&i!==(i=(((o=s[2])==null?void 0:o.title)||ee(s[1],s[3]))+"")&&j(t,i)},d(s){s&&p(e)}}}function $e(l){let e,i,t=l[0]&&me(l);return{c(){t&&t.c(),e=_e()},l(a){t&&t.l(a),e=_e()},m(a,s){t&&t.m(a,s),M(a,e,s),i=!0},p(a,[s]){a[0]?t?(t.p(a,s),s&1&&D(t,1)):(t=me(a),t.c(),D(t,1),t.m(e.parentNode,e)):t&&(Z(),I(t,1,1,()=>{t=null}),x())},i(a){i||(D(t),i=!0)},o(a){I(t),i=!1},d(a){a&&p(e),t&&t.d(a)}}}function je(l,e,i){let t,a,s,r,o,f,d,u,m,v;F(l,ye,_=>i(14,o=_)),F(l,Ie,_=>i(15,f=_)),F(l,Le,_=>i(13,d=_)),F(l,we,_=>i(6,u=_)),F(l,Pe,_=>i(7,m=_)),F(l,Ce,_=>i(8,v=_));let{isOpen:N}=e,{sel:S}=e,{info:b}=e,y=!1;function z(_){const R={year:"numeric",month:"long",day:"numeric"};return new Intl.DateTimeFormat(f,_==="allDay"?R:{...R,hour:"numeric",minute:"2-digit"})}async function X(){var _;if(!y){i(4,y=!0);try{await(o==null?void 0:o.sendMessagePromise({type:"calendar/event/delete",entity_id:t==null?void 0:t.entity_id,uid:b==null?void 0:b.id,recurrence_id:((_=b==null?void 0:b.extendedProps)==null?void 0:_.recurrence_id)||"",recurrence_range:""}))}catch(R){console.error(R)}finally{i(4,y=!1),Oe()}}}return l.$$set=_=>{"isOpen"in _&&i(0,N=_.isOpen),"sel"in _&&i(1,S=_.sel),"info"in _&&i(2,b=_.info)},l.$$.update=()=>{l.$$.dirty&8194&&i(3,t=d==null?void 0:d[S==null?void 0:S.entity_id]),l.$$.dirty&8&&i(12,a=t==null?void 0:t.attributes),l.$$.dirty&4096&&i(11,s=a==null?void 0:a.supported_features),l.$$.dirty&2048&&i(5,r=Re(s,{CREATE_EVENT:1,DELETE_EVENT:2,UPDATE_EVENT:4}))},[N,S,b,t,y,r,u,m,v,z,X,s,a,d]}class Qe extends Ve{constructor(e){super(),ke(this,e,je,$e,ge,{isOpen:0,sel:1,info:2})}}export{Qe as default};
